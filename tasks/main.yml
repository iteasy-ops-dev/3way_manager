---
# tasks file for iteasy.ansible.roles.3way_manager
# - name: Check Server OS version
#   raw: "curl -s ifconfig.me | cut -d'.' -f4"
#   register: result

# - name: Assign trimmed output to variable
#   set_fact:
#     server_ip: "{{ result.stdout | trim }}"

# - name: Debug for IP 26
#   debug:
#     msg: "Server IP is 26"
#   when: server_ip == "26"

# - name: Debug for IP 232
#   debug:
#     msg: "Server IP is 232"
#   when: server_ip == "232"

# - name: Debug for other IPs
#   debug:
#     msg: "Server IP is neither 26 nor 232"
#   when: server_ip != "26" and server_ip != "232"

# - name: Include setup-raw-based tasks
#   ansible.builtin.include_tasks: "setup-raw-task-{{ server_ip }}.yml"
#   when: setup | default(true) | bool

# - name: Include setup-raw-based tasks
#   ansible.builtin.include_tasks: "setup-raw-task-26.yml"
#   when: setup | default(true) | bool

# - name: Include remove-raw-based tasks
#   ansible.builtin.include_tasks: "remove-raw-task-{{ server_ip }}.yml"
#   when: setup is defined and not setup | bool

# - name: Include remove-raw-based tasks
#   ansible.builtin.include_tasks: "remove-raw-task-26.yml"
#   when: setup is defined and not setup | bool

- name: Include setup-raw-based tasks
  ansible.builtin.include_tasks: "setup-raw-task-default.yml"
  when: setup | default(true) | bool

- name: Include remove-raw-based tasks
  ansible.builtin.include_tasks: "remove-raw-task-default.yml"
  when: setup is defined and not setup | bool

